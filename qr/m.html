async function handleQrCode(qrUrl) {
  document.getElementById("result").innerText = "QR-–∫–æ–¥: " + qrUrl;
  const id = extractIdFromUrl(qrUrl);

  if (!id) {
    document.getElementById("num").innerText = "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π QR-–∫–æ–¥ ‚Äî ID –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ URL";
    return;
  }

  const apiUrl = `https://fgis.gost.ru/fundmetrology/eapi/vri/${id}`;
  document.getElementById("num").innerText = "üîÑ –ó–∞–≥—Ä—É–∂–∞—é: " + apiUrl;

  try {
    const response = await fetch(apiUrl);

    if (!response.ok) {
      document.getElementById("num").innerText += `\n‚ùå HTTP —Å—Ç–∞—Ç—É—Å: ${response.status}`;
      throw new Error("–°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—Ç–∏–ª –æ—à–∏–±–∫–æ–π");
    }

    const data = await response.json();
    const manufactureNum = data?.result?.miInfo?.singleMI?.manufactureNum;

    if (manufactureNum) {
      document.getElementById("num").innerText += `\n‚úÖ –ó–∞–≤. –Ω–æ–º–µ—Ä(–∞): ${manufactureNum}`;
    } else {
      document.getElementById("num").innerText += `\n‚ö†Ô∏è –ó–Ω–∞—á–µ–Ω–∏–µ manufactureNum –Ω–µ –Ω–∞–π–¥–µ–Ω–æ`;
    }
  } catch (error) {
    document.getElementById("num").innerText += `\n‚ùå –û—à–∏–±–∫–∞: ${error.message}`;
  }
}
